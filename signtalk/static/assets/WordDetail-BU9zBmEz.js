import{_ as b,r as n,o as m,u as g,c as l,a as s,b as u,t as i,d as w,e as R,f as d}from"./index-BygWcQBs.js";import"https://avatar.gbqr.net/avatar.js";const x={class:"word-detail"},B={class:"detail-container"},C={key:0,class:"content"},V={class:"detail-header"},D={class:"title-section"},I={class:"character"},L={class:"pinyin"},N={class:"main-content"},S={class:"video-section"},T={class:"video-wrapper"},W={class:"video-container"},$={key:0,class:"video-placeholder"},j=["src","playbackRate"],E={class:"video-controls"},M={class:"info-section"},q={class:"info-card description-card"},z={key:1,class:"loading"},A={__name:"WordDetail",setup(F){const p=g(),_=R(),e=n(null),t=n(null),a=n(1),c=n(!1),f=n(!0);m(async()=>{const r=parseInt(p.params.id);try{const v=await(await fetch(`http://localhost:8000/api/v1/words/${r}/`)).json();e.value=v}catch(o){console.error("è·å–è¯æ±‡è¯¦æƒ…å¤±è´¥:",o)}finally{f.value=!1}});const k=()=>{_.back()},h=()=>{t.value&&(t.value.currentTime=0,t.value.play())},y=()=>{t.value&&(a.value=a.value===1?.5:1,t.value.playbackRate=a.value)};return(r,o)=>(d(),l("div",x,[s("div",B,[s("button",{class:"back-button",onClick:k},[...o[1]||(o[1]=[s("span",{class:"back-icon"},"â†",-1),u(" è¿”å›åˆ—è¡¨ ",-1)])]),e.value?(d(),l("div",C,[s("header",V,[s("div",D,[s("div",I,i(e.value.word),1),s("p",L,i(e.value.pinyin),1)])]),s("div",N,[s("div",S,[s("div",T,[s("div",W,[c.value?w("",!0):(d(),l("div",$,[...o[2]||(o[2]=[s("span",{class:"loading-text"},[s("div",{class:"loading-spinner"}),u(" è§†é¢‘åŠ è½½ä¸­... ")],-1)])])),s("video",{ref_key:"videoRef",ref:t,src:e.value.video_url,controls:"",preload:"auto",playbackRate:a.value,onLoadeddata:o[0]||(o[0]=v=>c.value=!0),controlsList:"nodownload",class:"main-video"},null,40,j)]),s("div",E,[s("button",{class:"control-btn",onClick:h},[...o[3]||(o[3]=[s("span",null,"é‡å¤æ’­æ”¾",-1)])]),s("button",{class:"control-btn",onClick:y},[s("span",null,i(a.value===1?"å‡é€Ÿæ’­æ”¾":"æ­£å¸¸é€Ÿåº¦"),1)])])])]),s("div",M,[s("div",q,[o[4]||(o[4]=s("div",{class:"card-header"},[s("h2",null,"æ‰‹è¯­æè¿°"),s("div",{class:"card-icon"},"ğŸ“")],-1)),s("p",null,i(e.value.description),1)])])])])):(d(),l("div",z,[...o[5]||(o[5]=[s("div",{class:"loading-spinner"},null,-1),s("span",null,"åŠ è½½ä¸­...",-1)])]))])]))}},J=b(A,[["__scopeId","data-v-4d97e7cb"]]);export{J as default};
